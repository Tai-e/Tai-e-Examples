# Minimal Reproducible Example - [Issue 69](https://github.com/pascal-lab/Tai-e/issues/69)

> This project provides a convenient minimal reproducible example for the Tai-e's Issue, specifically reproducing [Issue 69](https://github.com/pascal-lab/Tai-e/issues/69).

## Project Structure

- `analyzed-programs/`
  Contains the program to be analyzed, including both source (`.java`) and compiled (`.class`) files.
  
  - `Main.java` / `Main.class`
  - `SourceSink.java` / `SourceSink.class`
  
- `configs/`
  Contains configuration files for the Tai-e tool.
  
  - `options.yml` - Tai-e's arguments.
  - `taint-config.yml` - Configuration for Taint analysis.
  
- `src/main/java`
  
  - `issue/Main.java` Entry point for running the analysis.
  
  
  ```java
  public static void main(String[] args) {
      pascal.taie.Main.main(
          "--options-file",
          "MinimalReproducibleExample-0069/configs/options.yml"
      );
  }
  ```
  
  - `pascal/taie/analysis/pta/plugin/taint/TFGBuilder` The source code copied from Tai-e and modified to hack the original implementation.
  
- `pom.xml`
  Maven configuration file.

## Modifying Tai-e's Original Implementation

In [this commit](https://github.com/Tai-e/Tai-e-Examples/commit/8ec1d9a246fcc56fd30510b8dfe0a017ff97ed64), I modified Tai-e's class implementation to dump the complete TFG (Taint Flow Graph) and one of the shortest path of each taint flow path. The class loading priority principle ensures that the original class is overridden successfully.

After running this example, three key files will be generated in the output directory:

- `taint-flow-graph.dot`: This file contains the original Taint Flow Graph (TFG) outputted by Tai-e. It only includes nodes within the application scope.
- `complete-taint-flow-graph.dot`: Generated by the modified code, this file includes all nodes, resulting in a graph that is too large to be easily viewed by a human.
- `taint-flow-path-1.dot`: Generated by the modified code, this file represents one of the shortest path of `taint flow 1`. This shortest path is calculated using the BFS algorithm (serves as a prototype).
